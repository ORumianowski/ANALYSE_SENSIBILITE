ff = rbind(ff, dd)
}
ff
par_name
dd = tibble(
parametre = par_name
s = res_s,
dd = tibble(
parametre = par_name,
s = res_s,
e = res_e,
sortie = rep("S1", length(res_s)))
ff = tibble(s = NaN,
e = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[2])
res_s = c(res_s, res_i)
}
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[2])
res_e = c(res_e, res_i)
}
dd = tibble(
parametre = par_name,
s = res_s,
e = res_e,
sortie = rep("S1", length(res_s)))
ff = rbind(ff, dd)
}
ff = tibble(parametre = NaN,
s = NaN,
e = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[2])
res_s = c(res_s, res_i)
}
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[2])
res_e = c(res_e, res_i)
}
dd = tibble(
parametre = par_name,
s = res_s,
e = res_e,
sortie = rep("S1", length(res_s)))
ff = rbind(ff, dd)
}
ff
ff = tibble(parametre = NaN,
s = NaN,
e = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[2])
res_s = c(res_s, res_i)
}
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[2])
res_e = c(res_e, res_i)
}
dd = tibble(
parametre = par_name,
s = res_s,
e = res_e,
sortie = rep(paste0("S", i), length(res_s)))
ff = rbind(ff, dd)
}
View(ff)
sortieNormalise,matriceOAT
ff = tibble(parametre = NaN,
s = NaN,
e = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[2])
res_s = c(res_s, res_i)
}
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[2])
res_e = c(res_e, res_i)
}
dd = tibble(
parametre = par_name,
s = res_s,
e = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
ff = rbind(ff, dd)
}
plot(res_s, res_e)
ff = tibble()
colnames(ff) = c("parametre")
ff
res  = ff[2:nrow(ff),]
res
ff = tibble(parametre = NaN,
s = NaN,
e = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[2])
res_s = c(res_s, res_i)
}
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[2])
res_e = c(res_e, res_i)
}
dd = tibble(
parametre = par_name,
s = res_s,
e = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
ff = rbind(ff, dd)
}
res  = ff[2:nrow(ff),]
res
ff = tibble(parametre = NaN,
s = NaN,
e = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
}
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
dd = tibble(
parametre = par_name,
s = res_s,
e = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
ff = rbind(ff, dd)
}
res  = ff[2:nrow(ff),]
View(res)
elascitiy_oat = function(lx, ly){
return(sensivity_oat(lx, ly)*(mean(lx)/mean(ly)))
}
res_i
sortie_ = 2
i = 4
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
resultParam_i_
sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
resultParam_i_[1]
resultParam_i_[sortie_+1]
elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
mean(resultParam_i_[1])/mean(resultParam_i_[sortie_+1])
mean(resultParam_i_[sortie_+1])
(resultParam_i_[sortie_+1]
)
str(resultParam_i_[sortie_+1])
mean(resultParam_i_[sortie_+1] %>% as.vector())
resultParam_i_[sortie_+1] %>% as.vector()
resultParam_i_[sortie_+1][1] %>% mean()
resultParam_i_[sortie_+1][1]
resultParam_i_[sortie_+1][1] %>% str()
resultParam_i_[sortie_+1]
resultParam_i_[sortie_+1][[1]]
resultParam_i_[sortie_+1][[1]] %>% mean()
elascitiy_oat = function(lx, ly){
return(sensivity_oat(lx, ly)*(mean(lx[[1]])/mean(ly[[1]])))
}
ff = tibble(parametre = NaN,
s = NaN,
e = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
dd = tibble(
parametre = par_name,
s = res_s,
e = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
ff = rbind(ff, dd)
}
res  = ff[2:nrow(ff),]
res
ggplot()+
geom_point(data = res %>% subset(., sortie=="S1"), aes(x = s, y=e))
ggplot()+
geom_point(data = res %>% subset(., sortie=="S1"), aes(x = s, y=e, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = s, y=e, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = s, y=e, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S2"), aes(x = s, y=e, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S3"), aes(x = s, y=e, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S4"), aes(x = s, y=e, label=parametre))
ff = tibble(parametre = NaN,
sensibility = NaN,
elasticity = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
dd = tibble(
parametre = par_name,
sensibility = res_s,
elasticity = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
ff = rbind(ff, dd)
}
res  = ff[2:nrow(ff),]
ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S2"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S3"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S4"), aes(x = sensibility, y=elasticity, label=parametre))
oat_index= tibble(parametre = NaN,
sensibility = NaN,
elasticity = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
tibble_sortie_i = tibble(
parametre = par_name,
sensibility = res_s,
elasticity = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
oat_index = rbind(oat_index)
}
res  = oat_index[2:nrow(oat_index),]
ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S2"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S3"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S4"), aes(x = sensibility, y=elasticity, label=parametre))
oat_index= tibble(parametre = NaN,
sensibility = NaN,
elasticity = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
tibble_sortie_i = tibble(
parametre = par_name,
sensibility = res_s,
elasticity = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
oat_index = rbind(oat_index)
}
res  = oat_index[2:nrow(oat_index),]
s1 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre))
s2 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S2"), aes(x = sensibility, y=elasticity, label=parametre))
s3 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S3"), aes(x = sensibility, y=elasticity, label=parametre))
s4 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S4"), aes(x = sensibility, y=elasticity, label=parametre))
s2
sortieNormalise
matriceOAT
oat_index
oat_index= tibble(parametre = NaN,
sensibility = NaN,
elasticity = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
tibble_sortie_i = tibble(
parametre = par_name,
sensibility = res_s,
elasticity = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
oat_index = rbind(oat_index)
}
res  = oat_index[2:nrow(oat_index),]
ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S2"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S3"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S4"), aes(x = sensibility, y=elasticity, label=parametre))
oat_index
oat_index= tibble(parametre = NaN,
sensibility = NaN,
elasticity = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
tibble_sortie_i = tibble(
parametre = par_name,
sensibility = res_s,
elasticity = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
oat_index = rbind(oat_index, tibble_sortie_i)
}
res  = oat_index[2:nrow(oat_index),]
ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S2"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S3"), aes(x = sensibility, y=elasticity, label=parametre))
ggplot()+
geom_text(data = res %>% subset(., sortie=="S4"), aes(x = sensibility, y=elasticity, label=parametre))
oat_index= tibble(parametre = NaN,
sensibility = NaN,
elasticity = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
tibble_sortie_i = tibble(
parametre = par_name,
sensibility = res_s,
elasticity = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
oat_index = rbind(oat_index, tibble_sortie_i)
}
res  = oat_index[2:nrow(oat_index),]
s1 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre))
s2 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S2"), aes(x = sensibility, y=elasticity, label=parametre))
s3 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S3"), aes(x = sensibility, y=elasticity, label=parametre))
s4 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S4"), aes(x = sensibility, y=elasticity, label=parametre))
s2
s2
plot_grid(plotlist = list(s1, s2),ncol=2)
plot_grid(plotlist = list(s1, s2, s3, s4),ncol=2)
s1 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre,
col = Parametres_nature))
s1
Parametres_nature <- c(rep("démographiques",10),rep("épidémiques",5))
s1 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre,
col = Parametres_nature))
s1
oat_index= tibble(parametre = NaN,
sensibility = NaN,
elasticity = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
tibble_sortie_i = tibble(
parametre = par_name,
sensibility = res_s,
elasticity = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
oat_index = rbind(oat_index, tibble_sortie_i)
}
res  = oat_index[2:nrow(oat_index),]
nature_par <- c(rep("démographiques",10),rep("épidémiques",5))
s1 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre,
col = nature_par))+
labs(title="S1")
s2 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S2"), aes(x = sensibility, y=elasticity, label=parametre,
col = nature_par))+
labs(title="S2")
s3 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S3"), aes(x = sensibility, y=elasticity, label=parametre,
col = nature_par))+
labs(title="S3")
s4 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S4"), aes(x = sensibility, y=elasticity, label=parametre,
col = nature_par))+
labs(title="S4")
plot_grid(plotlist = list(s1, s2, s3, s4),ncol=2)
oat_index= tibble(parametre = NaN,
sensibility = NaN,
elasticity = NaN,
sortie = NaN)
for (sortie_ in 1:4){
res_s = c()
res_e = c()
for (i_ in 1:15){
resultParam_i_ = resultParam_i(i=i_,sortieNormalise,matriceOAT)
res_i = sensivity_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_s = c(res_s, res_i)
res_i = elascitiy_oat(resultParam_i_[1], resultParam_i_[sortie_+1])
res_e = c(res_e, res_i)
}
tibble_sortie_i = tibble(
parametre = par_name,
sensibility = res_s,
elasticity = res_e,
sortie = rep(paste0("S", sortie_), length(res_s)))
oat_index = rbind(oat_index, tibble_sortie_i)
}
res  = oat_index[2:nrow(oat_index),]
nature_par <- c(rep("démographiques",10),rep("épidémiques",5))
s1 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S1"), aes(x = sensibility, y=elasticity, label=parametre,
col = nature_par))+
labs(title="S1")+ theme(legend.position = "none")
s2 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S2"), aes(x = sensibility, y=elasticity, label=parametre,
col = nature_par))+
labs(title="S2")+ theme(legend.position = "none")
s3 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S3"), aes(x = sensibility, y=elasticity, label=parametre,
col = nature_par))+
labs(title="S3")+ theme(legend.position = "none")
s4 = ggplot()+
geom_text(data = res %>% subset(., sortie=="S4"), aes(x = sensibility, y=elasticity, label=parametre,
col = nature_par))+
labs(title="S4")+ theme(legend.position = "none")
plot_grid(plotlist = list(s1, s2, s3, s4),ncol=2)
